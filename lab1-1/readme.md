# НИЯУ МИФИ. ИИКС. Лабораторная работа №1-1. «Построение модели данных». Ступпнков Иван Б20-505. 2023.
## Обзор предметной области

Рассматриваемая предметная область - Школа. Есть расписание, ученики, их родители и учителя.

## Диаграмма сущностей

![Диаграмма сущностей](./image.png)

## Спецификация таблиц

### schedule

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| schedule_id | int | Идентификатор | да | нет |
| group_id | int | Индентификатор группы | нет | groups.group_id |
| subject_id | int | Индентификатор предмета | нет | subjects.subject_id |
| teacher_id | int | Индентификатор учителя | нет | teachers.teacher_id |
| schedule_date | string | дата занятия | нет | нет |

### teachers

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| teacher_id | int | Идентификатор учителя | да | нет |
| name | text | Имя преподавателя | нет | нет |

### subjects

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| subject_id | int | Идентификатор предмета | да | нет |
| name | text | Название предмета | да | нет |

### groups

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| group_id | int | Идентификатор группы | да | нет |
| name | text | Название группы | нет | нет |

### students

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| student_id | int | Идентификатор студента | да | нет |
| name | text | Имя студента | нет | нет |
| group_id | int | Индентификатор группы | нет | groups.group_id |

### grades

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| student_id | int | Идентификатор студента| да | students.student_id |
| subject_id | int | Идентификатор предмета | да | subjects.subject_id |
| grade | int | Оценка | нет | нет |
| date | date | Дата оценки | да | нет |

### attendance

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| student_id | int | Идентификатор студента | да | students.student_id |
| date | date | Дата | да | нет |
| status | string | Название склада | нет | нет |

### studentparents

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| student_id | int | Идентификатор студента | да | students.student_id |
| parent_id | int | Индентификатор родитела | да | parents.parent_id |

### parents

| Название Поля | Тип | Описание | Первичный ключ? | Внешний ключ? |
| --- | --- | --- | --- | --- |
| parent_id | int | Идентификатор родителя | да | нет |
| name | text | Имя родителя | да | нет |




## Приложение
[SQL сценарий для создания таблиц в SQLite](./school.sql)

## Доказательство 3 нормальной формы

### Первая нормальная форма

Первая нормальная форма требует, чтобы в каждой ячейке таблицы было только одно значение, каждый столбец был уникальным, и все записи были уникальными. Все таблицы удовлетворяют этим условиям. У каждого столбца есть уникальное имя, а первичный ключ гарантирует уникальность каждой строки. Каждый столбец содержит только одно значение.

### Вторая нормальная форма

Вторая нормальная форма требует, чтобы таблица была в 1NF и все столбцы, не являющиеся ключевыми, были полностью функционально зависимы от первичного ключа. Это означает, что вся информация в строке должна быть связана с ключом. В таблицах все не ключевые столбцы (например, name, schedule_date) полностью функционально зависят от первичного ключа.

### Третья нормальная форма

Третья нормальная форма требует, чтобы таблица была в 2NF и в ней не было транзитивных функциональных зависимостей. Транзитивная функциональная зависимость — это когда один атрибут функционально зависит от другого атрибута, который, в свою очередь, функционально зависит от первичного ключа. В таблицах таких зависимостей нет.

Рассмотрим таблицу Students:

student_id — первичный ключ, каждый студент имеет уникальный ID.
name — имя студента, полностью зависит от student_id.
group_id — ID группы, к которой относится студент, тоже полностью зависит от student_id.
Аналогично можно проанализировать остальные таблицы. Нет полей, которые бы зависели от других не ключевых полей, что бы создало транзитивную зависимость. Итак, все таблицы соответствуют третьей нормальной форме.

## Заключение
Была смоделирована структура базы данных для расписания школы. Были описаны сущности, их атрибуты и связи между ними. Была построена диаграмма сущностей. Было доказано, что база данных находится в третьей нормальной форме. 
